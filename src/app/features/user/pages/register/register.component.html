<section>
  <header>
    <h1>Formul√°rio de Cadastro</h1>
  </header>

  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <label for="">
      First Name:
      <input type="text" formControlName="firstName" />
    </label>

    <label for="">
      Last Name:
      <input type="text" formControlName="lastName" />
    </label>

    <div formGroupName="address">
      <h3>Address</h3>

      <label>
        Street:
        <input type="text" formControlName="street" />
      </label>

      <label>
        City:
        <input type="text" formControlName="city" />
      </label>

      <label>
        State:
        <input type="text" formControlName="state" />
      </label>

      <label>
        Zip Code:
        <input type="text" formControlName="zip" />
      </label>
    </div>

    <!-- <div formGroupName="test">
      <div *ngFor="let form_elem of formTemplate">
        <div [ngSwitch]="form_elem.type">
          <div *ngSwitchCase="'textBox'">
            <label>
              {{ form_elem.label }}:
              <input type="text" formControlName="{{ form_elem.key }}" />
            </label>
          </div>
          <div *ngSwitchCase="'number'">
            <label>
              {{ form_elem.label }}:
              <input type="number" formControlName="{{ form_elem.key }}" />
            </label>
          </div>
          <div *ngSwitchCase="'select'">
            <label>
              {{ form_elem.label }}:
              <select formControlName="{{ form_elem.key }}">
                <option *ngFor="let opt of form_elem.options">
                  {{ opt }}
                </option>
              </select>
            </label>
          </div>
        </div>
      </div>
    </div> -->

    <!-- <div formArrayName="aliases">
      <h3>Aliases</h3>
      <button type="button" (click)="addAlias()">Add Alias</button>

      <div *ngFor="let alias of aliases.controls; let i = index">
        <label>
          Alias:
          <input type="text" [formControlName]="i" />
        </label>
      </div>
    </div> -->

    <div formArrayName="aliases">
      <h3>Aliases</h3>
      <button type="button" (click)="addAlias()">Add Alias</button>

      <div *ngFor="let alias of a.controls; let i = index">
        <div formGroupName="aliases">
          <h4>Aliases {{ i + 1 }}</h4>

          <div class="form-group col-6">
            <label>Name</label>
            <input type="text" formControlName="name" />
          </div>

          <div class="form-group col-6">
            <label>Email</label>
            <input type="text" formControlName="email" />
          </div>
          <a (click)="handleRemoveAlias(i)">Remover</a>
        </div>

      </div>

    </div>

    <button type="submit" [disabled]="!profileForm.valid">Enviar</button>
  </form>
</section>
